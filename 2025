getgenv().Cookie = "_|WARNING:-DO-NOT-SHARE-THIS.--Sharing-this-will-allow-someone-to-log-in-as-you-and-to-steal-your-ROBUX-and-items.|_CAEaAhACIhsKBGR1aWQSEzk2MTA1NTI5NTY3MTI2MDQyNjYoAw.Q_bHAVD-HxDeSgomIU63hkyS89xZS1_97S9SjHOR7eTtf4XBzKdp6NaghwZ6iOSe043CoTzmZq_yVM-6b7kEUuoa8Cw8ech3loB2FyAiUoJZpB2wtUf-t-pfzWQGEdUYjiCTpVRyFTSU7ATuGGDR_9SVJzYICEwaKItC7wKbI4d_4WejHTiYOmv8ut8wC95Ipe3B1yOssRD6t_xSsAKyyo7skhulxPyBzXpMgLvKAyNLMETtZnZS5Ewl5Hp8ph7BDz2gmMWoYEaZ0gHswU20nbuLxpUwPSnqyUn0CWaeh3L0413PpsLPhuPc85MwgTYN_Px_9x22QywYzO_AP4I63cwe_-pdbFfChZg_kAkQ8BhvTXXLxzJHYvIeqtle0YOyO7SR3UnlX27iUs79KZcY-BidC-5AE9gOzOoaeCiMulCPGD02HDaGcD0VHXLpkwpWuK3VbYsyR045lpJpG5oiJXhCKehDPA6fgRFMt1FV5hgm10lgx8ihE-VY_UcZML1GFWphtfiv0doVwuXkkSDWEoOjw86t0C5WE4Uu_t7_j-S06KJfd7RcasGu2bAfxC49u7z_mxP4pyvN2t05DR48f4IjiSOv77OWFdO9JeWPckJzgNi_kmicTiKoDszXujiNNIjjeS0VCH8Jo6LCkcdOkfwDaTp-s0SqnXDLPhCSD7YAH8dxm6_YjPM5E5kDvg1aobkDu6KVmAjRFGxLyGpkBxvmoWLR03hcSTra5VUTOWp52uDqYT3D_5JtvYKE8E0oix3bx8l-vmUAfzM1DMh1jTkkqxMSP1rJh9lH2H0H5sLDLKIlJtL8kUkv6FvlQ0LcHfQjwgiVXQz_0Zm-YN7vU9F2kFP75RXRcOmdgvlwsgHs3FBOPhnydQwiEVGtzt-Ed3Ew6j4ukvX3v4SyV89luczy2Yg2WHBnxUhob-A58b_JSIjuv3JOqe_vcq5yya2fQaeGVXpjML7UmCY5X26DxDT2oRLIErYheHa4PEJF4_vxw1izxb9opVc5C3UOKjd9hHOfjysUsNzVHxk_tw8h5Z7mVKw40LwpbcZfoPrbl2Or6gp1BubaljahxhZmcKKN3HG1AuXlnZbkexR1v76FUGMi_n06RQrWVIgTi2ILRqKHZkF46nAfGPIgq6qeE-zKt9XEmMK3EesTHMjDa1HNINUT2JY"
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")

-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Discord –≤–µ–±—Ö—É–∫–∞
local WEBHOOK_URL = "https://discord.com/api/webhooks/1442532208383361136/nyQKdxFmKNUqY2nndpLnUMnVR_Zuzp2YJXvCpnNH-yKGTXZPIRiYk6Y392qZafR6AvLg"

local function SendToDiscord(fakeJobId, realJobId, placeId, playerCount, confirmers)
    if not WEBHOOK_URL or WEBHOOK_URL:find("–≤–∞—à_–≤–µ–±—Ö—É–∫") then
        print("‚ùå –í–µ–±—Ö—É–∫ URL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω")
        return
    end
    
    local embed = {
        {
            title = "üîç JobId Analysis Result",
            color = 65280, -- –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç
            fields = {
                {
                    name = "üéÆ Place ID",
                    value = tostring(placeId),
                    inline = true
                },
                {
                    name = "üë• Players",
                    value = tostring(playerCount),
                    inline = true
                },
                {
                    name = "‚ö†Ô∏è Fake JobId (Delta)",
                    value = "```" .. fakeJobId .. "```",
                    inline = false
                },
                {
                    name = "‚úÖ Real JobId",
                    value = "```" .. realJobId .. "```", 
                    inline = false
                },
                {
                    name = "üïµÔ∏è Confirmers",
                    value = #confirmers > 0 and table.concat(confirmers, ", ") or "No confirmers",
                    inline = false
                },
                {
                    name = "üïí Time",
                    value = os.date("%Y-%m-%d %H:%M:%S"),
                    inline = true
                }
            },
            footer = {
                text = "Delta JobId Bypass"
            }
        }
    }
    
    local payload = {
        embeds = embed,
        username = "JobId Detective",
        avatar_url = "https://cdn.discordapp.com/attachments/1065829452399480862/1065829477483986984/68747470733a2f2f692e696d6775722e636f6d2f4e577a764e6f572e706e67.png"
    }
    
    local success, response = pcall(function()
        return request({
            Url = WEBHOOK_URL,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = HttpService:JSONEncode(payload)
        })
    end)
    
    if success then
        print("üì® –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Discord")
    else
        print("‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Discord: " .. tostring(response))
    end
end

local function GetRealJobIdWithAuth()
    print("=== –ü–û–õ–£–ß–ï–ù–ò–ï –ù–ê–°–¢–û–Ø–©–ï–ì–û JOBId –ß–ï–†–ï–ó PRESENCE API ===")
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫—É–∫–∏
    if not getgenv().Cookie then
        print("‚ùå ROBLOSECURITY –∫—É–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞")
        print("–î–æ–±–∞–≤—å –≤ —Å–∫—Ä–∏–ø—Ç: getgenv().Cookie = '—Ç–≤–æ–π_–∫—É–∫–∏_–∑–¥–µ—Å—å'")
        return nil
    end
    
    local localPlayer = Players.LocalPlayer
    if not localPlayer then return nil end
    
    local placeId = game.PlaceId
    local playerCount = #Players:GetPlayers()
    
    -- –°–æ–±–∏—Ä–∞–µ–º userId –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    local userIds = {}
    local playerMap = {}
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= localPlayer then
            table.insert(userIds, player.UserId)
            playerMap[player.UserId] = player.Name
        end
    end
    
    if #userIds == 0 then
        print("‚ùå –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏")
        return nil
    end
    
    print("–ü—Ä–æ–≤–µ—Ä—è–µ–º " .. #userIds .. " –∏–≥—Ä–æ–∫–æ–≤...")
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∫ Presence API —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
    local function GetPresenceWithAuth(userIdsList)
        local reqBody = HttpService:JSONEncode({
            userIds = userIdsList
        })
        
        print("–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å —Å " .. #userIdsList .. " userIds")
        
        local success, response = pcall(function()
            local result = request({
                Url = "https://presence.roblox.com/v1/presence/users",
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json",
                    ["Cookie"] = ".ROBLOSECURITY=" .. tostring(getgenv().Cookie)
                },
                Body = reqBody
            })
            
            print("–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞: " .. (result.StatusCode or "unknown"))
            print("–î–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞: " .. #result.Body)
            
            return result
        end)
        
        if success and response then
            -- –ü—Ä–æ–±—É–µ–º —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å JSON
            local jsonSuccess, jsonData = pcall(function()
                return HttpService:JSONDecode(response.Body)
            end)
            
            if jsonSuccess then
                return jsonData
            else
                print("‚ùå –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON: " .. tostring(jsonData))
                return nil
            end
        else
            print("‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞: " .. tostring(response))
            return nil
        end
    end
    
    -- –ü–æ–ª—É—á–∞–µ–º Presence –¥–∞–Ω–Ω—ã–µ
    local presenceData = GetPresenceWithAuth(userIds)
    if not presenceData then
        print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å Presence –¥–∞–Ω–Ω—ã–µ")
        return nil
    end
    
    if not presenceData.userPresences then
        print("‚ùå –ù–µ—Ç userPresences –≤ –æ—Ç–≤–µ—Ç–µ")
        return nil
    end
    
    -- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    local foundJobIds = {}
    local validResponses = 0
    
    for _, presence in pairs(presenceData.userPresences) do
        if presence.placeId == placeId and presence.gameId then
            validResponses = validResponses + 1
            local jobId = presence.gameId
            local playerName = playerMap[presence.userId] or "Unknown"
            
            if jobId and jobId ~= game.JobId then
                print("üéØ " .. playerName .. " –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: " .. jobId)
                table.insert(foundJobIds, {
                    jobId = jobId,
                    player = playerName,
                    lastLocation = presence.lastLocation or "InGame"
                })
            else
                print("‚ÑπÔ∏è  " .. playerName .. " –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ—Ç –∂–µ JobId —á—Ç–æ –∏ —É –Ω–∞—Å")
            end
        end
    end
    
    print("–ü–æ–ª—É—á–µ–Ω–æ –≤–∞–ª–∏–¥–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: " .. validResponses .. "/" .. #userIds)
    
    -- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–µ JobId
    if #foundJobIds > 0 then
        print("\n=== –ê–ù–ê–õ–ò–ó –†–ï–ó–£–õ–¨–¢–ê–¢–û–í ===")
        
        -- –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ JobId
        local jobIdCounts = {}
        for _, found in ipairs(foundJobIds) do
            jobIdCounts[found.jobId] = (jobIdCounts[found.jobId] or 0) + 1
        end
        
        -- –ù–∞—Ö–æ–¥–∏–º –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–π JobId
        local bestJobId, maxCount = nil, 0
        for jobId, count in pairs(jobIdCounts) do
            if count > maxCount then
                bestJobId = jobId
                maxCount = count
            end
        end
        
        if bestJobId then
            print("üéâ –ù–ê–°–¢–û–Ø–©–ò–ô JOBID: " .. bestJobId)
            print("–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω " .. maxCount .. " –∏–≥—Ä–æ–∫–∞–º–∏")
            
            -- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏—Ö –∏–≥—Ä–æ–∫–æ–≤
            local confirmers = {}
            for _, found in ipairs(foundJobIds) do
                if found.jobId == bestJobId then
                    table.insert(confirmers, found.player)
                end
            end
            
            print("–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç: " .. table.concat(confirmers, ", "))
            
            -- –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –î–µ–ª—å—Ç–æ–π
            if bestJobId ~= game.JobId then
                print("‚ö†Ô∏è  –î–ï–õ–¨–¢–ê –ü–û–ö–ê–ó–´–í–ê–ï–¢: " .. game.JobId)
                print("üîç –û–ë–ù–ê–†–£–ñ–ï–ù–ê –ü–û–î–ú–ï–ù–ê!")
                
                -- –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Discord
                SendToDiscord(game.JobId, bestJobId, placeId, playerCount, confirmers)
            else
                print("‚ÑπÔ∏è  –ü–æ–¥–º–µ–Ω—ã –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ")
            end
            
            return bestJobId
        end
    else
        print("‚ùå –í—Å–µ –∏–≥—Ä–æ–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–æ—Ç –∂–µ JobId —á—Ç–æ –∏ –î–µ–ª—å—Ç–∞")
    end
    
    return nil
end

-- –ì–õ–ê–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø
local function FindRealJobId()
    print("üöÄ –ó–ê–ü–£–°–ö –ü–û–ò–°–ö–ê –ù–ê–°–¢–û–Ø–©–ï–ì–û JOBID")
    
    local realJobId = GetRealJobIdWithAuth()
    
    -- –†–µ–∑—É–ª—å—Ç–∞—Ç
    if realJobId then
        print("\n‚úÖ –£–°–ü–ï–•! –ù–∞—Å—Ç–æ—è—â–∏–π JobId: " .. realJobId)
        getgenv().RealJobId = realJobId
        
        -- –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ñ–∞–π–ª –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
        pcall(function()
            writefile("real_jobid.txt", realJobId)
        end)
        
        return realJobId
    else
        print("\nüòû –ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π JobId")
        
        -- –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Discord —á—Ç–æ –ø–æ–¥–º–µ–Ω–∞ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞
        if WEBHOOK_URL and not WEBHOOK_URL:find("–≤–∞—à_–≤–µ–±—Ö—É–∫") then
            local embed = {
                {
                    title = "‚ùå JobId Analysis Failed",
                    color = 16711680, -- –ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
                    fields = {
                        {
                            name = "üéÆ Place ID",
                            value = tostring(game.PlaceId),
                            inline = true
                        },
                        {
                            name = "üë• Players", 
                            value = tostring(#Players:GetPlayers()),
                            inline = true
                        },
                        {
                            name = "üì° Fake JobId (Delta)",
                            value = "```" .. game.JobId .. "```",
                            inline = false
                        },
                        {
                            name = "üïí Time",
                            value = os.date("%Y-%m-%d %H:%M:%S"),
                            inline = true
                        },
                        {
                            name = "üí° Status",
                            value = "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π JobId",
                            inline = false
                        }
                    },
                    footer = {
                        text = "Delta JobId Bypass"
                    }
                }
            }
            
            local payload = {
                embeds = embed,
                username = "JobId Detective"
            }
            
            pcall(function()
                request({
                    Url = WEBHOOK_URL,
                    Method = "POST",
                    Headers = {
                        ["Content-Type"] = "application/json"
                    },
                    Body = HttpService:JSONEncode(payload)
                })
            end)
        end
        
        return nil
    end
end

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫—É–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º
if getgenv().Cookie then
    local realJobId = FindRealJobId()
    
    if realJobId then
        print("\nüí° –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç JobId –¥–ª—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏:")
        print('game:GetService("TeleportService"):TeleportToPlaceInstance(' .. game.PlaceId .. ', "' .. realJobId .. '")')
    end
else
    print("‚ùå –ö—É–∫–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞! –°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ã—à–µ.")
end

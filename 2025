getgenv().Cookie = "_|WARNING:-DO-NOT-SHARE-THIS.--Sharing-this-will-allow-someone-to-log-in-as-you-and-to-steal-your-ROBUX-and-items.|_CAEaAhACIhsKBGR1aWQSEzk2MTA1NTI5NTY3MTI2MDQyNjYoAw.Q_bHAVD-HxDeSgomIU63hkyS89xZS1_97S9SjHOR7eTtf4XBzKdp6NaghwZ6iOSe043CoTzmZq_yVM-6b7kEUuoa8Cw8ech3loB2FyAiUoJZpB2wtUf-t-pfzWQGEdUYjiCTpVRyFTSU7ATuGGDR_9SVJzYICEwaKItC7wKbI4d_4WejHTiYOmv8ut8wC95Ipe3B1yOssRD6t_xSsAKyyo7skhulxPyBzXpMgLvKAyNLMETtZnZS5Ewl5Hp8ph7BDz2gmMWoYEaZ0gHswU20nbuLxpUwPSnqyUn0CWaeh3L0413PpsLPhuPc85MwgTYN_Px_9x22QywYzO_AP4I63cwe_-pdbFfChZg_kAkQ8BhvTXXLxzJHYvIeqtle0YOyO7SR3UnlX27iUs79KZcY-BidC-5AE9gOzOoaeCiMulCPGD02HDaGcD0VHXLpkwpWuK3VbYsyR045lpJpG5oiJXhCKehDPA6fgRFMt1FV5hgm10lgx8ihE-VY_UcZML1GFWphtfiv0doVwuXkkSDWEoOjw86t0C5WE4Uu_t7_j-S06KJfd7RcasGu2bAfxC49u7z_mxP4pyvN2t05DR48f4IjiSOv77OWFdO9JeWPckJzgNi_kmicTiKoDszXujiNNIjjeS0VCH8Jo6LCkcdOkfwDaTp-s0SqnXDLPhCSD7YAH8dxm6_YjPM5E5kDvg1aobkDu6KVmAjRFGxLyGpkBxvmoWLR03hcSTra5VUTOWp52uDqYT3D_5JtvYKE8E0oix3bx8l-vmUAfzM1DMh1jTkkqxMSP1rJh9lH2H0H5sLDLKIlJtL8kUkv6FvlQ0LcHfQjwgiVXQz_0Zm-YN7vU9F2kFP75RXRcOmdgvlwsgHs3FBOPhnydQwiEVGtzt-Ed3Ew6j4ukvX3v4SyV89luczy2Yg2WHBnxUhob-A58b_JSIjuv3JOqe_vcq5yya2fQaeGVXpjML7UmCY5X26DxDT2oRLIErYheHa4PEJF4_vxw1izxb9opVc5C3UOKjd9hHOfjysUsNzVHxk_tw8h5Z7mVKw40LwpbcZfoPrbl2Or6gp1BubaljahxhZmcKKN3HG1AuXlnZbkexR1v76FUGMi_n06RQrWVIgTi2ILRqKHZkF46nAfGPIgq6qeE-zKt9XEmMK3EesTHMjDa1HNINUT2JY"
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")

-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Discord –≤–µ–±—Ö—É–∫–∞
local WEBHOOK_URL = "https://discord.com/api/webhooks/1442532208383361136/nyQKdxFmKNUqY2nndpLnUMnVR_Zuzp2YJXvCpnNH-yKGTXZPIRiYk6Y392qZafR6AvLg"

local function SendToDiscord(fakeJobId, realJobId, placeId, playerCount, confirmers)
    
    local embed = {
        {
            title = "üîç JobId Analysis Result",
            color = 65280, -- –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç
            fields = {
                {
                    name = "üéÆ Place ID",
                    value = tostring(placeId),
                    inline = true
                },
                {
                    name = "üë• Players",
                    value = tostring(playerCount),
                    inline = true
                },
                {
                    name = "‚ö†Ô∏è Fake JobId (Delta)",
                    value = "```" .. fakeJobId .. "```",
                    inline = false
                },
                {
                    name = "‚úÖ Real JobId",
                    value = "```" .. realJobId .. "```", 
                    inline = false
                },
                {
                    name = "üïµÔ∏è Confirmers",
                    value = #confirmers > 0 and table.concat(confirmers, ", ") or "No confirmers",
                    inline = false
                },
                {
                    name = "üïí Time",
                    value = os.date("%Y-%m-%d %H:%M:%S"),
                    inline = true
                }
            },
            footer = {
                text = "Delta JobId Bypass"
            }
        }
    }
    
    local payload = {
        embeds = embed,
        username = "JobId Detective",
        avatar_url = "https://cdn.discordapp.com/attachments/1065829452399480862/1065829477483986984/68747470733a2f2f692e696d6775722e636f6d2f4e577a764e6f572e706e67.png"
    }
    
    local success, response = pcall(function()
        return request({
            Url = WEBHOOK_URL,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = HttpService:JSONEncode(payload)
        })
    end)
end

local function GetRealJobIdWithAuth()
    local localPlayer = Players.LocalPlayer
    if not localPlayer then return nil end

    local placeId = game.PlaceId
    local playerCount = #Players:GetPlayers()
    local userIds = {}
    local playerMap = {}

    for _, player in pairs(Players:GetPlayers()) do
        if player ~= localPlayer then
            table.insert(userIds, player.UserId)
            playerMap[player.UserId] = player.Name
        end
    end

    local function GetPresenceWithAuth(userIdsList)
        local reqBody = HttpService:JSONEncode({
            userIds = userIdsList
        })
        
        local success, response = pcall(function()
            local result = request({
                Url = "https://presence.roblox.com/v1/presence/users",
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json",
                    ["Cookie"] = ".ROBLOSECURITY=" .. tostring(getgenv().Cookie)
                },
                Body = reqBody
            })
            
            return result
        end)
        
        if success and response then
            local jsonSuccess, jsonData = pcall(function()
                return HttpService:JSONDecode(response.Body)
            end)
            
            if jsonSuccess then
                return jsonData
            end
        end
    end
    
    local presenceData = GetPresenceWithAuth(userIds)
    
    local foundJobIds = {}
    local validResponses = 0
    
    for _, presence in pairs(presenceData.userPresences) do
        if presence.placeId == placeId and presence.gameId then
            validResponses = validResponses + 1
            local jobId = presence.gameId
            local playerName = playerMap[presence.userId] or "Unknown"
            
            if jobId and jobId ~= game.JobId then
                table.insert(foundJobIds, {
                    jobId = jobId,
                    player = playerName,
                    lastLocation = presence.lastLocation or "InGame"
                })
            else
            end
        end
    end
    
    if #foundJobIds > 0 then
        local jobIdCounts = {}
        for _, found in ipairs(foundJobIds) do
            jobIdCounts[found.jobId] = (jobIdCounts[found.jobId] or 0) + 1
        end
    
        local bestJobId, maxCount = nil, 0
        for jobId, count in pairs(jobIdCounts) do
            if count > maxCount then
                bestJobId = jobId
                maxCount = count
            end
        end
        
        if bestJobId then
            local confirmers = {}
            for _, found in ipairs(foundJobIds) do
                if found.jobId == bestJobId then
                    table.insert(confirmers, found.player)
                end
            end
            
            if bestJobId ~= game.JobId then
                SendToDiscord(game.JobId, bestJobId, placeId, playerCount, confirmers)
            end
            
            return bestJobId
        end
    end
    
    return nil
end

local function FindRealJobId()
    
    local realJobId = GetRealJobIdWithAuth()
    
    if realJobId then
        getgenv().RealJobId = realJobId
        
        pcall(function()
            writefile("real_jobid.txt", realJobId)
        end)
        
        return realJobId
    else
        
        if WEBHOOK_URL and not WEBHOOK_URL:find("–≤–∞—à_–≤–µ–±—Ö—É–∫") then
            local embed = {
                {
                    title = "‚ùå JobId Analysis Failed",
                    color = 16711680, -- –ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
                    fields = {
                        {
                            name = "üéÆ Place ID",
                            value = tostring(game.PlaceId),
                            inline = true
                        },
                        {
                            name = "üë• Players", 
                            value = tostring(#Players:GetPlayers()),
                            inline = true
                        },
                        {
                            name = "üì° Fake JobId (Delta)",
                            value = "```" .. game.JobId .. "```",
                            inline = false
                        },
                        {
                            name = "üïí Time",
                            value = os.date("%Y-%m-%d %H:%M:%S"),
                            inline = true
                        },
                        {
                            name = "üí° Status",
                            value = "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π JobId",
                            inline = false
                        }
                    },
                    footer = {
                        text = "Delta JobId Bypass"
                    }
                }
            }
            
            local payload = {
                embeds = embed,
                username = "JobId Detective"
            }
            
            pcall(function()
                request({
                    Url = WEBHOOK_URL,
                    Method = "POST",
                    Headers = {
                        ["Content-Type"] = "application/json"
                    },
                    Body = HttpService:JSONEncode(payload)
                })
            end)
        end
        return nil
    end
end

if getgenv().Cookie then
    local realJobId = FindRealJobId()
end
